<style>
/*数字滚动插件的CSS可调整样式*/
.mt-number-animate{ font-family: '微软雅黑'; line-height:40px; height: 40px;/*设置数字显示高度*/; font-size: 36px;/*设置数字大小*/ overflow: hidden; display: inline-block; position: relative; }
.mt-number-animate .mt-number-animate-dot{ width: 15px;/*设置分割符宽度*/ line-height: 40px; float: left; text-align: center;}
.mt-number-animate .mt-number-animate-dom{ width: 20px;/*设置单个数字宽度*/ text-align: center; float: left; position: relative; top: 0;}
.mt-number-animate .mt-number-animate-dom .mt-number-animate-span{ width: 100%; float: left;}
</style>
<div class="index">
        <div class="index_top">
            <div class="index_topde">
                <div class="index_topdelf">

                    <a href="/system_info"><a href="/settings"><img src="../../images/shezhi@3x.png" width="30"></a></a>
                </div>
                <div class="index_topdecon">
                    <label><img src="/images/fangdajing.png" height="24px"></label>
                    <input placeholder="请输入公司名和注册号" type="text"/>
                    <div class="clear"></div>
                </div>
                <div class="index_topderg">
                <a href="/mycenter_home">
                    <img src="/images/xiaoren.png" width="30px">
                </a>
                </div>
                <div class="clear"></div>
            </div>
            <div class="Dataupdate">
                <div class="Dataupdate_top">企业数据更新中...</div>
                <div class="Dataupdate_con">

                    <div class="index21121">6</div>
                    <div class="index21121">3</div>
                    <div class="index21121 index21122">,</div>
                    <div class="index21121">1</div>
                    <div class="index21121" id="f">3</div>
                    <div class="index21121" id="m">5</div>
                    <div class="index21121 index21122">,</div>
                    <div class="index21121" id="e">5</div>
                    <div class="index21121" id="y">3</div>
                    <div class="index21121"  id="t">9</div>
                    <div style="clear:both;"></div>

<!--                     <div class="numberRun2"></div> -->
                </div>
            </div>
        </div>
        <div class="index_search">
            <a href="/search_people?type=qiye">
                <div class="index_searchlf">
                    <p><img src="/images/search.png" width="28" /></p>
                    <p style="padding-top:6px;">查企业</p>
                    <div class="clear"></div>
                </div>
            </a>
            <a href="/search_people?type=faren">
                <div class="index_searchcon">
                    <p><img src="/images/farengudong.png" width="28" /></p>
                    <p>查法人
                        <br />股东</p>
                    <div class="clear"></div>
                </div>
            </a>
            <a href="/search_people?type=shixin">
                <div class="index_searchrg">
                    <p><img src="/images/lose_letter.png" width="28" /></p>
                    <p style="padding-top:6px;">查失信</p>
                    <div class="clear"></div>
                </div>
            </a>
        </div>
        <div class="index_follow">
        <a href="/myfocus">
            <div class="index_followlf">我的关注</div>
            <div class="index_followrg">></div>
            <div class="clear"></div>
        </a>
        </div>
        <div id="myfocus" onmouseover=iScrollAmount=0 style="overflow: hidden;background-color:#fff;height:80px;" onmouseout=iScrollAmount=1>
            <div class="index_followde" ng-repeat="myfocus in myfocus.rows">
                <a ng-href="/compdet?id={{myfocus.companyId}}&sts=1">
                <div class="index23121">{{myfocus.companyName}}</div>
                <div class="index23122">
                    <div class="index231221">
                        <div class="index2312211"><img src="/images/company_list@2x.png" height="20px" /></div>
                        <div class="index2312212">公司法人：{{myfocus.repPersion}}</div>
                        <div class="clear"></div>
                    </div>
                    <div class="index231222">{{myfocus.recordStatus}}</div>
                    <div class="clear"></div>
                </div>
                </a>
                <div class="clear"></div>
            </div>
        </div>
        <a href="/hot_business">
        <div class="index_follow" >

            <div class="index_followlf">热门企业</div>
            <div class="index_followrg">></div>
            <div class="clear"></div>
        </div>
        </a>
        
        <div id="scroll" style="overflow:hidden;background-color:#fff;height:80px;">
            <div class="index_followde" ng-repeat="hotbusiness in hotbusiness.rows">
                <a  ng-href="/compdet?id={{hotbusiness.id}}">
                <div class="index2312">
                    <div class="index23121">{{hotbusiness.companyName}}</div>
                    <div class="index23122">
                        <div class="index231221">
                            <div class="index231223"><img src="../../images/starjudge.png"></div>
                         </div>
                        <div class="index231222">
                            <span class="co">{{hotbusiness.focus}}</span>人关注
                        </div>
                        <div style="clear:both;"></div>
                    </div>
                </div>
                </a>
            </div>
        </div>

        <div id="scroll2" style="display:none;"></div>

      <!--
        <div class="index_follow">
        <a href="/nopromise_business">
            <div class="index_followlf">失信榜单</div>
            <div class="index_followrg">></div>
            <div class="clear"></div>
        </a>
        </div>
        <div style="overflow:hidden;background-color:#fff;height:80px;">
            <div class="index_followde" onClick="window.location.href='/nopromise_inquire'">
                <div class="index2312">
                    <div class="index23123">
                        <div class="index231231"><div class="index2312311">1月</div><div class="index2312312">2015年</div></div>
                        <div class="index231232">电商浮躁，失业率大揭秘</div>
                    </div>

                </div>
            </div>
        </div>
 -->



</div>
<script type="text/javascript">
var oMarquee = document.getElementById("myfocus"); //滚动对象
var iLineHeight = 80; //单行高度，像素
var iLineCount = 1; //实际行数
var iScrollAmount = 1; //每次滚动高度，像素
function run() { oMarquee.scrollTop += iScrollAmount; if ( oMarquee.scrollTop == iLineCount * iLineHeight ) oMarquee.scrollTop = 0; 
                if ( oMarquee.scrollTop % iLineHeight == 0 ) { window.setTimeout( "run()", 3500 ); } 
                else { window.setTimeout( "run()", 10 ); } } oMarquee.innerHTML += oMarquee.innerHTML; window.setTimeout( "run()", 3500 );
</script>

<script type="text/javascript">
    var scrollDelay=10;//数字越大速度越慢
    var Scroll=document.getElementById("scroll");
    var Scroll2=document.getElementById("scroll2");
    var currentTop=0,preTop=0,stoptime=0,stopscroll=false;
    var ScrollChild=Scroll.getElementsByTagName("li");
    var ScrollHeight=Scroll.offsetHeight;
    function ScrollInfo(){
        if(stopscroll==true) return;
        currentTop++;
        if(currentTop+1>=ScrollHeight){
            currentTop--;
            stoptime++;
            if(stoptime==parseInt(ScrollHeight)*scrollDelay) {
                currentTop=0;
                stoptime=0;
            }
        }else{
            preTop=Scroll.scrollTop;
            Scroll.scrollTop++;
            if(preTop==Scroll.scrollTop){
     Scroll.scrollTop=Scroll2.offsetHeight-ScrollHeight;
     Scroll.scrollTop+=1;
     }
        }
    }
    function Int_Scroll(){
        Scroll2.innerHTML="";
        Scroll2.innerHTML=Scroll.innerHTML;
        Scroll.innerHTML=Scroll2.innerHTML+Scroll2.innerHTML;
        Scroll.onmouseover=function(){
            stopscroll=true;
        }
        Scroll.onmouseout=function(){
            stopscroll=false;
        }
        setInterval("ScrollInfo()",scrollDelay);
    }
    window.setTimeout("Int_Scroll()",5000);
</script>
<script>
/**
*  by Mantou qq:676015863
*  数字滚动插件 v1.0
*/
;(function($) {
  $.fn.numberAnimate = function(setting) {
    var defaults = {
      speed : 1000,//动画速度
      num : "", //初始化值
      iniAnimate : true, //是否要初始化动画效果
      symbol : '',//默认的分割符号，千，万，千万
      dot : 0 //保留几位小数点
    }
    //如果setting为空，就取default的值
    var setting = $.extend(defaults, setting);

    //如果对象有多个，提示出错
    if($(this).length > 1){
      alert("just only one obj!");
      return;
    }

    //如果未设置初始化值。提示出错
    if(setting.num == ""){
      alert("must set a num!");
      return;
    }
    var nHtml = '<div class="mt-number-animate-dom" data-num="{{num}}">\
            <span class="mt-number-animate-span">0</span>\
            <span class="mt-number-animate-span">1</span>\
            <span class="mt-number-animate-span">2</span>\
            <span class="mt-number-animate-span">3</span>\
            <span class="mt-number-animate-span">4</span>\
            <span class="mt-number-animate-span">5</span>\
            <span class="mt-number-animate-span">6</span>\
            <span class="mt-number-animate-span">7</span>\
            <span class="mt-number-animate-span">8</span>\
            <span class="mt-number-animate-span">9</span>\
            <span class="mt-number-animate-span">.</span>\
          </div>';

    //数字处理
    var numToArr = function(num){
      num = parseFloat(num).toFixed(setting.dot);
      if(typeof(num) == 'number'){
        var arrStr = num.toString().split("");
      }else{
        var arrStr = num.split("");
      }
      //console.log(arrStr);
      return arrStr;
    }

    //设置DOM symbol:分割符号
    var setNumDom = function(arrStr){
      var shtml = '<div class="mt-number-animate">';
      for(var i=0,len=arrStr.length; i<len; i++){
        if(i != 0 && (len-i)%3 == 0 && setting.symbol != "" && arrStr[i]!="."){
          shtml += '<div class="mt-number-animate-dot">'+setting.symbol+'</div>'+nHtml.replace("{{num}}",arrStr[i]);
        }else{
          shtml += nHtml.replace("{{num}}",arrStr[i]);
        }
      }
      shtml += '</div>';
      return shtml;
    }

    //执行动画
    var runAnimate = function($parent){
      $parent.find(".mt-number-animate-dom").each(function() {
        var num = $(this).attr("data-num");
        num = (num=="."?10:num);
        var spanHei = $(this).height()/11; //11为元素个数
        var thisTop = -num*spanHei+"px";
        if(thisTop != $(this).css("top")){
          if(setting.iniAnimate){
            //HTML5不支持
            if(!window.applicationCache){
              $(this).animate({
                top : thisTop
              }, setting.speed);
            }else{
              $(this).css({
                'transform':'translateY('+thisTop+')',
                '-ms-transform':'translateY('+thisTop+')',   /* IE 9 */
                '-moz-transform':'translateY('+thisTop+')',  /* Firefox */
                '-webkit-transform':'translateY('+thisTop+')', /* Safari 和 Chrome */
                '-o-transform':'translateY('+thisTop+')',
                '-ms-transition':setting.speed/1000+'s',
                '-moz-transition':setting.speed/1000+'s',
                '-webkit-transition':setting.speed/1000+'s',
                '-o-transition':setting.speed/1000+'s',
                'transition':setting.speed/1000+'s'
              });
            }
          }else{
            setting.iniAnimate = true;
            $(this).css({
              top : thisTop
            });
          }
        }
      });
    }

    //初始化
    var init = function($parent){
      //初始化
      $parent.html(setNumDom(numToArr(setting.num)));
      runAnimate($parent);
    };

    //重置参数
    this.resetData = function(num){
      var newArr = numToArr(num);
      var $dom = $(this).find(".mt-number-animate-dom");
      if($dom.length < newArr.length){
        $(this).html(setNumDom(numToArr(num)));
      }else{
        $dom.each(function(index, el) {
          $(this).attr("data-num",newArr[index]);
        });
      }
      runAnimate($(this));
    }
    //init
    init($(this));
    return this;
  }
})(jQuery);

$(function(){


  var numRun2 = $(".numberRun2").numberAnimate({num:'15343242', speed:2000, symbol:","});
  var nums2 = 15343242;
  setInterval(function(){
    nums2+= 1433;
    numRun2.resetData(nums2);
  },2000);


});
</script>
